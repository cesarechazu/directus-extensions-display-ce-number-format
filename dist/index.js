import{openBlock as t,createElementBlock as e,toDisplayString as n}from"vue";const i=/[0-9\-+#]/,r=/[^\d\-+#]/g;function l(t){return t.search(i)}function s(t,e,n){let i=!1;const r={value:t};t<0&&(i=!0,r.value=-r.value),r.sign=i?"-":"",r.value=Number(r.value).toFixed(e.fraction&&e.fraction.length),r.value=Number(r.value).toString();const l=e.fraction&&e.fraction.lastIndexOf("0");let[s="0",a=""]=r.value.split(".");return(!a||a&&a.length<=l)&&(a=l<0?"":Number("0."+a).toFixed(l+1).replace("0.","")),r.integer=s,r.fraction=a,function(t,e){t.result="";const n=e.integer.split(e.separator),i=n.join(""),r=i&&i.indexOf("0");if(r>-1)for(;t.integer.length<i.length-r;)t.integer="0"+t.integer;else 0===Number(t.integer)&&(t.integer="");const l=n[1]&&n[n.length-1].length;if(l){const n=t.integer.length,i=n%l;for(let r=0;r<n;r++)t.result+=t.integer.charAt(r),!((r-i+1)%l)&&r<n-l&&(t.result+=e.separator)}else t.result=t.integer;t.result+=e.fraction&&t.fraction?e.decimal+t.fraction:""}(r,e),"0"!==r.result&&""!==r.result||(i=!1,r.sign=""),!i&&e.maskHasPositiveSign?r.sign="+":i&&e.maskHasPositiveSign?r.sign="-":i&&(r.sign=n&&n.enforceMaskSign&&!e.maskHasNegativeSign?"":"-"),r}var a={id:"directus-extensions-display-ce-number-format",name:"Number Format",icon:"123",description:"Display formatted number by mask. Example ###,###,##.00 => 123,456,789.12",component:((t,e)=>{const n=t.__vccOpts||t;for(const[t,i]of e)n[t]=i;return n})({props:{value:{type:String,default:null},mask:{type:String,default:null}},setup:t=>function(){if(!t.value)return t.value;const e=Number(t.value),n=function(t="#.##"){const e={},n=t.length,i=l(t);e.prefix=i>0?t.substring(0,i):"";const s=l(t.split("").reverse().join("")),a=n-s,g=t.substring(a,a+1),d=a+("."===g||","===g?1:0);e.suffix=s>0?t.substring(d,n):"",e.mask=t.substring(i,d),e.maskHasNegativeSign="-"===e.mask.charAt(0),e.maskHasPositiveSign="+"===e.mask.charAt(0);let o=e.mask.match(r);return e.decimal=o&&o[o.length-1]||".",e.separator=o&&o[1]&&o[0]||",",o=e.mask.split(e.decimal),e.integer=o[0],e.fraction=o[1],e}(t.mask),i=s(e,n);return n.prefix+i.sign+i.result+n.suffix}},[["render",function(i,r,l,s,a,g){return t(),e("div",null,"Value: "+n(i.displayFormat()),1)}],["__file","display.vue"]]),options:[{field:"mask",type:"string",name:"Mask",meta:{interface:"input",width:"full",options:{placeholder:"$ ###,###,##0.00"}}},{field:"info",name:"Information",type:"alias",meta:{interface:"presentation-notice",width:"full",options:{text:'<p>Examples:</p>\n\t\t\t\t\t\t\t<table style="border-collapse: collapse; width: 100%; height: 414.594px;" border="1"><colgroup><col style="width: 24.9901%;"><col style="width: 24.9901%;"><col style="width: 24.9901%;"><col style="width: 24.9901%;"></colgroup>\n\t\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr style="height: 38.9688px;">\n\t\t\t\t\t\t\t<td style="text-align: center;"><strong>Description</strong></td>\n\t\t\t\t\t\t\t<td style="text-align: center;"><strong>Input</strong></td>\n\t\t\t\t\t\t\t<td style="text-align: center;"><strong>Mask</strong></td>\n\t\t\t\t\t\t\t<td style="text-align: center;"><strong>Output</strong></td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr style="height: 38.9688px;">\n\t\t\t\t\t\t\t<td><strong>Simple</strong></td>\n\t\t\t\t\t\t\t<td style="text-align: right;">123456.789</td>\n\t\t\t\t\t\t\t<td class="format" style="text-align: right;">#,##0.00</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">123,456.79</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr style="height: 38.9688px;">\n\t\t\t\t\t\t\t<td><strong>Large number</strong></td>\n\t\t\t\t\t\t\t<td style="text-align: right;">123456789.12</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">###,###,##0.00</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">123,456,789.12</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr style="height: 38.9688px;">\n\t\t\t\t\t\t\t<td>More Decimals</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">123456.1234</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">###,###,##0.0000</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">123,456.1234</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr style="height: 38.9688px;">\n\t\t\t\t\t\t\t<td>Force separator</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">123456789</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">###,###.</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">123,456,789</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr style="height: 38.9688px;">\n\t\t\t\t\t\t\t<td>US, UK and many more</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">1234567.89</td>\n\t\t\t\t\t\t\t<td class="format" style="text-align: right;">#,##0.00</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">1,234,567.89</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr style="height: 38.9688px;">\n\t\t\t\t\t\t\t<td>Estonia, France</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">-123456.78</td>\n\t\t\t\t\t\t\t<td class="format" style="text-align: right;">### ###,##</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">-123 456,78</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr style="height: 63.7344px;">\n\t\t\t\t\t\t\t<td>Argentina, Germany, Italy</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">-1234560.12</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">##.##0,00</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">1.234.560,10</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr style="height: 38.9688px;">\n\t\t\t\t\t\t\t<td>With Prefix</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">123456.12</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">$ ###,##0.00</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">$ 123,456.12</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t<tr style="height: 39.1094px;">\n\t\t\t\t\t\t\t<td>With Suffix</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">123456.12</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">###,##0.00 USD</td>\n\t\t\t\t\t\t\t<td style="text-align: right;">123,456.12 USD</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t</tbody>\n\t\t\t\t\t\t\t</table>'}}}],types:["integer","bigInteger","float","decimal"]};export{a as default};
